function isNumberKey(e) {
    var a = e.which ? e.which : event.keyCode;
    return a > 47 && 58 > a || 44 == a || 46 == a || 8 == a ? !0 : !1
}! function(e) {
    e(document).ready(function() {
        e(".sb-toggle-left").click(function() {
            e("#sb-site").css("position", "fixed"), e("#sb-site").css("z-index", "1001")
        }), e("#sb-site").click(function() {
            e("#sb-site").css("position", "none"), e("#sb-site").css("z-index", "1")
        })
    })
}(jQuery),
function(e) {
    e(document).ready(function() {
        e.slidebars()
    })
}(jQuery), $(function() {
        $('a[href="#"]').on("click", function(e) {
            e.preventDefault()
        }), $("#menu > li").on("mouseover", function(e) {
            $(this).find("ul:first").show(), $(this).find("> a").addClass("active")
        }).on("mouseout", function(e) {
            $(this).find("ul:first").hide(), $(this).find("> a").removeClass("active")
        }), $("#menu li li").on("mouseover", function(e) {
            $(this).has("ul").length && $(this).parent().addClass("expanded"), $("ul:first", this).parent().find("> a").addClass("active"), $("ul:first", this).show()
        }).on("mouseout", function(e) {
            $(this).parent().removeClass("expanded"), $("ul:first", this).parent().find("> a").removeClass("active"), $("ul:first", this).hide()
        }), $("#search > li").on("mouseover", function(e) {
            $(this).find("ul:first").show(), $(this).find("> a").addClass("active")
        }).on("mouseout", function(e) {
            $(this).find("ul:first").hide(), $(this).find("> a").removeClass("active")
        }), $("#search li li").on("mouseover", function(e) {
            $(this).has("ul").length && $(this).parent().addClass("expanded"), $("ul:first", this).parent().find("> a").addClass("active"), $("ul:first", this).show()
        }).on("mouseout", function(e) {
            $(this).parent().removeClass("expanded"), $("ul:first", this).parent().find("> a").removeClass("active"), $("ul:first", this).hide()
        })
    }),
    function(e) {
        e(document).ready(function() {
            e("#cariproduk,#cariproduk-resp").attr("autocomplete", "off"), e("#cariproduk").autocomplete({
                source: base_url + "ajax/psearch",
                open: function(a, t) {
                    var r = e("#cariproduk").val().replace(/\+/g, "%2B").replace(/\s/g, "+");
                    e(".ui-autocomplete").append('<li class="ui-menu-item"><a href="' + base_url + "search/?query=" + r + '&sort=4&page=1&limit=20"><div class="list_item_container"><center><div class="label-name-resp table-cell"><i class="fa fa-search"></i> Lihat Semua Hasil Pencarian <i class="fa fa-angle-double-right"></i></div><center></div></a></li>')
                }
            }).data("ui-autocomplete")._renderItem = function(a, t) {
                var r = '<a href="' + t.link + '"><div class="list_item_container"><div class="image"><img src="' + t.image + '"></div><div class="label-name">' + t.label + "</div></div></a>";
                return e("<li></li>").data("item.autocomplete", t).append(r).appendTo(a)
            }, e("#cariproduk-resp").autocomplete({
                source: base_url + "ajax/psearch",
                open: function(a, t) {
                    var r = e("#cariproduk-resp").val().replace(/\+/g, "%2B").replace(/\s/g, "+");
                    e(".ui-autocomplete").append('<li class="ui-menu-item"><a href="' + base_url + "search/?query=" + r + '&sort=4&page=1&limit=20"><div class="list_item_container"><center><div class="label-name-resp table-cell"><i class="fa fa-search"></i> Lihat Semua Hasil Pencarian <i class="fa fa-angle-double-right"></i></div><center></div></a></li>')
                }
            }).data("ui-autocomplete")._renderItem = function(a, t) {
                var r = '<a href="' + t.link + '"><div class="list_item_container"><div class="label-name-resp">' + t.label + "</div></div></a>";
                return e("<li></li>").data("item.autocomplete", t).append(r).appendTo(a)
            }
        })
    }(jQuery);


var frm = $("#form-login");
frm.submit(function(e) {
    e.preventDefault();
    console.log("e", e);
    var logincheck = document.getElementById('logincheck');
    console.log("logincheck", logincheck);
    if (!logincheck.checked){
        // alert("You need to agree with the terms and condition") ;
		$(".login_error").html('');
        $(".login_error").append("<p>You need to agree with the terms and condition</p>")
        return false;
    }
    $(".login_error").empty(), $(".login_error").append("<p><img src='/asset/img/loader-lite.gif'></p>"), $.ajax({
        type: frm.attr("method"),
        url: frm.attr("action"),
        data: frm.serialize(),
        dataType: "json",
        beforeSend: function() {
            $(".signin-submit").val("Please wait .......");
//			$("#registrasi_error").css("display", "none");
		},
        success: function(e) {
            0 == e.status ? ($(".login_error").empty(), $(".login_error").append("<p>" + e.message + "</p>"), $(".login_error").empty(), $(".login_error").append("<p>" + e.message + "</p>"),$(".signin-submit").val("Login")) : 1 == e.status && ("member" == e.session ? document.location = window.location.href : "merchant_id_user" == e.session ? document.location = "/merchant_ve" : "partner" == e.session && (document.location = base_url + "partner/agregator/orders"))
        }
    }), e.preventDefault()
});
var frmreg = $("#form-reg");
frmreg.submit(function(e) {
    $.ajax({
        type: frmreg.attr("method"),
        url: frmreg.attr("action"),
        data: frmreg.serialize(),
        dataType: "json",
        beforeSend: function() {
/*
            $(".register-submit").val("Please wait ..."), $("#registrasi_error").css("display", "none")
*/
            $(".register-submit").val("Please wait .......");
			$("#registrasi_error").css("display", "none");
            $(".login_error3").html("<p><img src='/asset/img/loader-lite.gif'></p>");
            $(".reg_error").html("");
        },
        success: function(e) {
            $(".register-submit").val("Daftar"), 0 == e.status ? ($("#recaptcha_reload").click(), $(".reg_error").empty(), $(".reg_error").append("<p>" + e.message + "</p>"), $("#registrasi_error").css("display", ""), $(".login_error3").html("")) : 1 == e.status && (document.location = e.message)
        }
    }), e.preventDefault()
}), $(document).on("click", ".product-thumb-love", function(e) {
    e.preventDefault();
    var a = $(this).parents(".product-tile"),
        t = a.attr("data-product-id"),
        r = $(this);
    $.ajax({
        url: base_url + "ajax/love",
        method: "POST",
        data: {
            id: t
        },
        dataType: "json",
        success: function(e) {
            if ("success" == e.status) {
                r.children(".love-count");
                "+1" == e.value ? (loveValue = parseInt($(".love-value-" + t).html()) + 1, $(".love-value-" + t).html(loveValue), r.addClass("user-loved")) : "-1" == e.value && (loveValue = parseInt($(".love-value-" + t).html()) - 1, $(".love-value-" + t).html(loveValue), r.removeClass("user-loved"))
            }
        }
    })
}), $(document).on("click", ".btn-follow", function(e) {
    e.preventDefault();
    var a = $(".user-overview").attr("data-user-id"),
        t = $(this);
    $.ajax({
        url: base_url + "ajax/follow",
        method: "POST",
        data: {
            id_user: a
        },
        dataType: "json",
        success: function(e) {
            e.status && 1 == e.status && (t.removeClass("btn-warning"), t.removeClass("btn-follow"), t.addClass("btn-unfollow"), t.addClass("btn-primary"), t.html("Unfollow"), $(".count-follower").html(parseInt($(".count-follower").html()) + 1))
        }
    })
}), $(document).on("click", ".btn-unfollow", function(e) {
    e.preventDefault();
    var a = $(".user-overview").attr("data-user-id"),
        t = $(this);
    $.ajax({
        url: base_url + "ajax/unfollow",
        method: "POST",
        data: {
            id_user: a
        },
        dataType: "json",
        success: function(e) {
            e.status && 1 == e.status && (t.removeClass("btn-primary"), t.removeClass("btn-unfollow"), t.addClass("btn-follow"), t.addClass("btn-warning"), t.html("Follow"), $(".count-follower").html(parseInt($(".count-follower").html()) - 1))
        }
    })
}), $(".mega-menu-triger").hover(function() {
    $(".mega-header-modal").show()
}, function() {
    $(".mega-header-modal").hide()
}), $(".login-white-header, .menu-member-area").hover(function() {
    $(".menu-member-area").show(), $(".angle-up").show(), $(".angle-down").hide()
}, function() {
    $(".menu-member-area").delay(500).hide(), $(".angle-up").delay(500).hide(), $(".angle-down").delay(500).show()
}), $(".login-red-header, .menu-member-area-red").hover(function() {
    $(".menu-member-area-red").show(), $(".angle-up").show(), $(".angle-down").hide()
}, function() {
    $(".menu-member-area-red").delay(500).hide(), $(".angle-up").delay(500).hide(), $(".angle-down").delay(500).show()
}), $(document).click(function(e) {
    console.log(e)
}), $(".berat-alert").blur(function() {
    var e = $(".berat-alert").val();
    parseInt(e) >= 10 && alert("Berat barang melebihi 10kg apakah anda yakin?")
});
var frm_wl = $("#form-login-ve");
frm_wl.submit(function(e) {
    $(".login_error").empty(), $(".login_error").append("<p><img src='/asset/img/loader-lite.gif'></p>"), $.ajax({
        type: frm_wl.attr("method"),
        url: frm_wl.attr("action"),
        data: frm_wl.serialize(),
        dataType: "json",
        beforeSend: function() {},
        success: function(e) {
            if (0 == e.status) $(".login_error").empty(), $(".login_error").append("<p>" + e.message + "</p>"), $(".login_error").empty(), $(".login_error").append("<p>" + e.message + "</p>");
            else if (1 == e.status) {
                var a = e.url;
			alert (a); return false;
				window.location.href='/'+a;
            }
        }
    }), e.preventDefault()
});

$(document).ready(function(){
    $("#subscribe-button").click(function(){
        var email = $("#de-subscribe-email").val();
        if (email) {
            $.ajax({
                url: base_url + "ajax/regnewsletter",
                method: "POST",
                data: { email: email },
                dataType: "json",
                success: function(e) {
                    if (e.message == 'success') {
                        Swal.fire({
                            title : 'Success',
                            text : 'Berhasil mendaftarkan email pada newsletter',
                            icon : 'success', 
                        });
                    } else {
                        Swal.fire({
                            title : 'Info',
                            text : 'Email sudah terdaftar',
                            icon : 'error', 
                        });
                    }
                }
            })
        } else {
            Swal.fire({
                title : 'Warning',
                text : 'Email harus diisi',
                icon : 'error', 
            });
        }
    });
})